{"version":3,"sources":["components/Home/style.js","data/index.js","util/index.js","store/store.js","components/Form/index.js","components/Home/index.js","App.js","store/reducer.js","store/index.js","index.js"],"names":["Header","styled","h1","Container","div","Price","span","MainTitle","a","BookList","key","title","price","author","category","description","storage","set","name","content","JSON","stringify","localStorage","setItem","get","getItem","del","removeItem","actionTypes","processStorage","data","temp","Object","addBookAction","info","dispatch","getState","list","home","newBook","uuid","newBookList","type","updateBookAction","map","item","index","push","ModalModule","useState","visible","setVisible","style","float","marginRight","onClick","FormModule","_visible","_initInfo","_setVisible","connect","processUpload","updateBook","props","Form","useForm","form","bookInfo","setBookInfo","formRef","useRef","onFinish","value","entries","val","trim","message","success","resetFields","useEffect","current","setFieldsValue","componentSize","setComponentSize","formItemLayout","labelCol","wrapperCol","onOk","onCancel","footer","onFinishFailed","error","ref","layout","onValuesChange","size","Item","label","rules","required","placeholder","min","max","precision","formatter","replace","parser","width","TextArea","autoSize","showCount","rows","maxLength","offset","marginLeft","htmlType","state","bookList","bookDetail","deleteBook","filter","setContent","infoVisible","setInfoVisible","columns","dataIndex","render","text","record","tag","color","length","toUpperCase","Number","toFixed","Modal","confirm","icon","ExclamationCircleOutlined","okText","cancelText","Promise","resolve","showConfirm","pagination","dataSource","App","className","fallback","rootReducer","combineReducers","initState","action","newState","parse","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducer","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.124c2089.chunk.js","sourcesContent":["import styled from 'styled-components'\r\n\r\nexport const Header = styled.h1`\r\n\tmargin-top: 20px;\r\n\ttext-align: center;\r\n`\r\nexport const Container = styled.div`\r\n\twidth: 100%;\r\n`\r\nexport const Title = styled.span`\r\n\tcolor: #58dcd6;\r\n\tfont-size: 16px;\r\n\tdisplay: inline-block;\r\n\twidth: 100px;\r\n`\r\nexport const Info = styled.span`\r\n\tfont-size: 16px;\r\n`\r\nexport const Price = styled.span`\r\n\tfont-style: italic;\r\n\tcolor: #36b4e4;\r\n`\r\nexport const PriceInline = styled.span`\r\n\tfont-style: italic;\r\n\tcolor: #36b4e4;\r\n\tfont-size: 16px;\r\n`\r\nexport const NoInfo = styled.span`\r\n\tfont-size: 16px;\r\n\tcolor: #36b4e4;\r\n\tdisplay: inline-block;\r\n`\r\nexport const Description = styled.div`\r\n\tmargin-top: -21px;\r\n\twhite-space: pre-wrap;\r\n\tmargin-left: 100px;\r\n\tfont-size: 15px;\r\n\tdisplay: inline-block;\r\n\tpadding: 5px;\r\n\tbackground-color: rgb(247 247 247);\r\n\tborder-radius: 10px;\r\n`\r\nexport const MainTitle = styled.a`\r\n\tfont-size: 15px;\r\n`\r\n","export default {\r\n\tBookList: [\r\n\t\t{\r\n\t\t\tkey: '9b1deb4d-3b7d-1baf-9bdd-2b0d7b3dcb6d',\r\n\t\t\ttitle: 'A Promised Land',\r\n\t\t\tprice: 30.0,\r\n\t\t\tauthor: 'Barack Obama',\r\n\t\t\tcategory: 'Sociology',\r\n\t\t\tdescription: `        A riveting, deeply personal account of history in the making - from the president who inspired us to believe in the power of democracy.\\n\r\n      In the stirring, highly anticipated first volume of his presidential memoirs, Barack Obama tells the story of his improbable odyssey from young man searching for his identity to leader of the free world, describing in strikingly personal detail both his political education and the landmark moments of the first term of his historic presidency - a time of dramatic transformation and turmoil.\\n\r\n      Obama takes listeners on a compelling journey from his earliest political aspirations to the pivotal Iowa caucus victory that demonstrated the power of grassroots activism to the watershed night of November 4, 2008, when he was elected 44th president of the United States, becoming the first African American to hold the nationâ€™s highest office.`,\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '9b1deb4d-3b7d-432d-9bdd-2b0d7b3dcb6d',\r\n\t\t\ttitle: 'Little Book of Mindfulness',\r\n\t\t\tprice: 9.0,\r\n\t\t\tauthor: 'Patricia Collard',\r\n\t\t\tcategory: 'Psychology',\r\n\t\t\tdescription: `        Mindfulness is the easy way to gently let go of stress and be in the moment. It has fast become the slow way to manage the modern world - without chanting mantras or finding hours of special time to meditate.\\n \r\n      Bring these simple 5- and 10-minute practices into your day to find freedom from stress and ultimately, more peace in your life.`,\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '9b1deb4d-3b7d-w2ad-9bdd-2b0d7b3dcb6d',\r\n\t\t\ttitle: 'Stuff You Should Know',\r\n\t\t\tprice: 25.0,\r\n\t\t\tauthor: 'Chuck Bryant',\r\n\t\t\tcategory: 'Education',\r\n\t\t\tdescription: '',\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '9b1deb4d-3b7d-4bad-9bdd-2b0d7b3ddd6d',\r\n\t\t\ttitle: 'Harry Potter',\r\n\t\t\tprice: 63.0,\r\n\t\t\tauthor: 'J.K. Rowling',\r\n\t\t\tcategory: 'Literature',\r\n\t\t\tdescription: '',\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '8aceb4d-3b7d-4bad-9bdd-2b0d7b3ddd6d',\r\n\t\t\ttitle: 'Change Sings',\r\n\t\t\tprice: 10.99,\r\n\t\t\tauthor: 'Amanda Gorman',\r\n\t\t\tcategory: 'Literature',\r\n\t\t\tdescription: `    \"I can hear change hummingIn its loudest, proudest song.I don't fear change coming,And so I sing along.\"`,\r\n\t\t},\r\n\t],\r\n\t// bookInfo: {},\r\n}\r\n","// export function useCallbackState(od) {\r\n// \tconst cbRef = useRef()\r\n// \tconst [data, setData] = useState(od)\r\n\r\n// \tuseEffect(() => {\r\n// \t\tcbRef.current && cbRef.current(data)\r\n// \t}, [data])\r\n\r\n// \treturn [\r\n// \t\tdata,\r\n// \t\tfunction (d, callback) {\r\n// \t\t\tcbRef.current = callback\r\n// \t\t\tsetData(d)\r\n// \t\t},\r\n// \t]\r\n// }\r\nlet timer\r\nclass _Storage {\r\n\tset = (name, content) => {\r\n\t\tif (!name) return\r\n\t\tif (typeof content !== 'string') {\r\n\t\t\tcontent = JSON.stringify(content)\r\n\t\t}\r\n\t\tlocalStorage.setItem(name, content)\r\n\t}\r\n\tget = (name) => {\r\n\t\tif (!name) return\r\n\t\treturn localStorage.getItem(name)\r\n\t}\r\n\tdel = (name) => {\r\n\t\tif (!name) return\r\n\t\tlocalStorage.removeItem(name)\r\n\t}\r\n}\r\n\r\nexport const storage = new _Storage()\r\n\r\nexport const Timeout = (func, gap) => {\r\n\ttimer = setTimeout(() => {\r\n\t\tfunc()\r\n\t\tclearTimeout(timer)\r\n\t\tTimeout(func, gap)\r\n\t}, gap)\r\n}\r\n\r\n// const test = () => {\r\n// \tconsole.log(11111)\r\n// }\r\n// Timeout(test, 100)\r\n","import { v4 as uuid } from 'uuid'\r\nimport initState from '../data'\r\nimport { storage } from '../util'\r\nexport const actionTypes = {\r\n\tINIT_BOOK_LIST: 'INIT_BOOK_LIST',\r\n\tADD_BOOK: 'ADD_BOOK',\r\n\tDELETE_BOOK: 'DELETE_BOOK',\r\n\tCHECK_INFO: 'CHECK_INFO',\r\n\tUPDATE_BOOK: 'UPDATE_BOOK',\r\n}\r\n\r\nexport const initBookListAction = () => {\r\n\tconst newBookList = initState.BookList\r\n\treturn (dispatch) =>\r\n\t\tdispatch({\r\n\t\t\ttype: actionTypes.INIT_BOOK_LIST,\r\n\t\t\tdata: newBookList,\r\n\t\t})\r\n}\r\nexport const getBookInfo = (id) => {\r\n\treturn (dispatch, getState) => {\r\n\t\tconst list = getState.home.BookList\r\n\t\tconst info = list.filter((item) => item.key === id)\r\n\t\tconsole.log(info)\r\n\t\treturn dispatch({\r\n\t\t\ttype: actionTypes.CHECK_INFO,\r\n\t\t\tdata: info[0],\r\n\t\t})\r\n\t}\r\n}\r\nexport const processUploadAction = (info) => {\r\n\tif (info.key) {\r\n\t\treturn updateBookAction(info)\r\n\t}\r\n\treturn addBookAction(info)\r\n}\r\n\r\nconst processStorage = (data) => {\r\n\tconst temp = new Object()\r\n\ttemp['BookList'] = data\r\n\tstorage.set('book_storage', temp)\r\n}\r\n\r\nexport const addBookAction = (info) => {\r\n\treturn (dispatch, getState) => {\r\n\t\tconst list = getState().home.BookList\r\n\t\tconst { title, category, description, price, author } = info\r\n\t\tlet newBook = {\r\n\t\t\tkey: uuid(),\r\n\t\t\ttitle,\r\n\t\t\tprice,\r\n\t\t\tauthor,\r\n\t\t\tcategory,\r\n\t\t\tdescription,\r\n\t\t}\r\n\t\tconst newBookList = [...list, newBook]\r\n\t\tprocessStorage(newBookList)\r\n\t\treturn dispatch({\r\n\t\t\ttype: actionTypes.ADD_BOOK,\r\n\t\t\tdata: newBookList,\r\n\t\t})\r\n\t}\r\n}\r\nexport const updateBookAction = (info) => {\r\n\treturn (dispatch, getState) => {\r\n\t\tlet list = getState().home.BookList\r\n\t\tlet newBookList = []\r\n\t\tlist.map((item, index) => {\r\n\t\t\tif (item.key !== info.key) return newBookList.push(item)\r\n\t\t\tnewBookList.push(info)\r\n\t\t})\r\n\t\tprocessStorage(newBookList)\r\n\t\treturn dispatch({\r\n\t\t\ttype: actionTypes.UPDATE_BOOK,\r\n\t\t\tdata: newBookList,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const deleteBookAction = (key) => {\r\n\treturn (dispatch, getState) => {\r\n\t\tconst list = getState().home.BookList\r\n\t\tconst newBookList = list.filter((item) => item.key !== key)\r\n\t\tprocessStorage(newBookList)\r\n\t\tdispatch({\r\n\t\t\ttype: actionTypes.DELETE_BOOK,\r\n\t\t\tdata: newBookList,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const reducer = (state = initState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'ADD_BOOK': {\r\n\t\t\tconst newState = new Object()\r\n\t\t\tnewState.BookList = action.data\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tcase 'UPDATE_BOOK': {\r\n\t\t\tconst newState = new Object()\r\n\t\t\tnewState.BookList = action.data\r\n\t\t\treturn newState\r\n\t\t}\r\n\r\n\t\tcase 'DELETE_BOOK': {\r\n\t\t\tconst newState = new Object()\r\n\t\t\tnewState.BookList = action.data\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tcase 'INIT_BOOK_LIST': {\r\n\t\t\tconst newState = new Object()\r\n\t\t\tnewState.BookList = action.data\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tcase 'CHECK_INFO': {\r\n\t\t\tconst newState = new Object()\r\n\t\t\tnewState.bookInfo = action.data\r\n\t\t\treturn newState\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\tif (!!storage.get('book_storage')) {\r\n\t\t\t\treturn JSON.parse(storage.get('book_storage'))\r\n\t\t\t}\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import React, { Fragment, useEffect, useRef, useState } from 'react'\r\nimport { Form, message, Input, Button, InputNumber, Modal } from 'antd'\r\nimport { connect } from 'react-redux'\r\nimport { processUploadAction, updateBookAction } from '../../store/store'\r\n\r\nexport const ModalModule = () => {\r\n\tconst [visible, setVisible] = useState(false)\r\n\tconst showModal = () => {\r\n\t\tsetVisible(true)\r\n\t}\r\n\tconst initInfo = {\r\n\t\ttitle: '',\r\n\t\tdescription: '',\r\n\t\tprice: 0,\r\n\t\tcategory: '',\r\n\t\tauthor: '',\r\n\t}\r\n\treturn (\r\n\t\t<div style={{ float: 'right', marginRight: '9%' }}>\r\n\t\t\t<Button type='primary' onClick={showModal}>\r\n\t\t\t\tAdd Book\r\n\t\t\t</Button>\r\n\t\t\t<FormModule _visible={visible} _initInfo={initInfo} _setVisible={setVisible}></FormModule>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport const _FormModule = (props) => {\r\n\tconst { processUpload, _initInfo, _visible, _setVisible, updateBook } = props\r\n\tconst [form] = Form.useForm()\r\n\tconst [bookInfo, setBookInfo] = useState({})\r\n\tconst formRef = useRef(null)\r\n\tconst onFinish = (value) => {\r\n\t\tfor (let [key, val] of Object.entries(value)) {\r\n\t\t\tif (typeof val === 'string') {\r\n\t\t\t\tval = `${val.trim()}`\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (bookInfo.key) {\r\n\t\t\tvalue['key'] = bookInfo.key\r\n\t\t}\r\n\t\tprocessUpload(value)\r\n\t\tbookInfo.key ? message.success('Modified Successfully') : message.success('Added Successfully')\r\n\t\tform.resetFields()\r\n\t\t_setVisible(false)\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tif (formRef.current) {\r\n\t\t\tsetBookInfo(_initInfo)\r\n\t\t\tform.setFieldsValue(_initInfo)\r\n\t\t}\r\n\t}, [formRef, _initInfo, _visible])\r\n\r\n\tconst handleCancel = () => {\r\n\t\tform.resetFields()\r\n\t\t_setVisible(false)\r\n\t}\r\n\tconst [componentSize, setComponentSize] = useState('default')\r\n\tconst onFormLayoutChange = ({ size }) => {\r\n\t\tsetComponentSize(size)\r\n\t}\r\n\r\n\tconst formItemLayout = {\r\n\t\tlabelCol: {\r\n\t\t\tspan: 4,\r\n\t\t},\r\n\t\twrapperCol: {\r\n\t\t\tspan: 8,\r\n\t\t},\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Modal visible={_visible} title='Book Information' onOk={onFinish} onCancel={handleCancel} footer={null}>\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Form\r\n\t\t\t\t\tonFinishFailed={() => {\r\n\t\t\t\t\t\tmessage.error('Input error')\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tref={formRef}\r\n\t\t\t\t\tform={form}\r\n\t\t\t\t\tlabelCol={{\r\n\t\t\t\t\t\tspan: 4,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\twrapperCol={{\r\n\t\t\t\t\t\tspan: 20,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\tlayout='horizontal'\r\n\t\t\t\t\tonValuesChange={onFormLayoutChange}\r\n\t\t\t\t\tsize={componentSize}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\tlabel='Book'\r\n\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: 'Please input the book name',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input placeholder='Input the book name' />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\tname='author'\r\n\t\t\t\t\t\tlabel='Author'\r\n\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: 'Please input the author',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input placeholder='Input the author' />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t{...formItemLayout}\r\n\t\t\t\t\t\tname='category'\r\n\t\t\t\t\t\tlabel='Category'\r\n\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: 'Please input the category',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input placeholder='Input the category' />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item name='price' label='Price' rules={[{ required: true, type: 'number', min: 0, max: 10000 }]}>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\tprecision={2}\r\n\t\t\t\t\t\t\tformatter={(value) => `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n\t\t\t\t\t\t\tparser={(value) => value.replace(/\\$\\s?|(,*)/g, '')}\r\n\t\t\t\t\t\t\tstyle={{ width: '100px' }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item name='description' label='Description' rules={[{ required: false, message: \"Please enter book's description \" }]}>\r\n\t\t\t\t\t\t<Input.TextArea placeholder='Input description' autoSize={true} showCount rows={3} maxLength={2000} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item wrapperCol={{ span: 12, offset: 6 }}>\r\n\t\t\t\t\t\t<Button style={{ marginLeft: '30px' }} type='primary' htmlType='submit'>\r\n\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t</Fragment>\r\n\t\t</Modal>\r\n\t)\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tprocessUpload(newBook) {\r\n\t\t\tdispatch(processUploadAction(newBook))\r\n\t\t},\r\n\t\tupdateBook(index) {\r\n\t\t\tdispatch(updateBookAction(index))\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const FormModule = connect(null, mapDispatchToProps)(_FormModule)\r\n","import React, { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Button, Table, Tag, message, Space, Modal } from 'antd'\r\nimport { Container, Header, Price, MainTitle } from './style'\r\nimport { ModalModule, FormModule } from '../Form'\r\nimport { deleteBookAction } from '../../store/store'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\n\r\nfunction BookList(props) {\r\n\tconst [content, setContent] = useState([])\r\n\tconst [bookInfo, setBookInfo] = useState({})\r\n\tconst [infoVisible, setInfoVisible] = useState(false)\r\n\tconst { bookDetail, bookList, deleteBook } = props\r\n\r\n\tuseEffect(() => {\r\n\t\tbookList && setContent(bookList)\r\n\t}, [bookList, bookDetail])\r\n\tfunction showConfirm(record) {\r\n\t\tModal.confirm({\r\n\t\t\ttitle: 'Confirm',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: 'Are you sure to delete this book ?',\r\n\t\t\tokText: 'Delete',\r\n\t\t\tcancelText: 'Cancel',\r\n\t\t\tonOk() {\r\n\t\t\t\tmessage.success('Deleted successfully')\r\n\t\t\t\tdeleteBook(record.key)\r\n\t\t\t},\r\n\t\t\tonCancel() {\r\n\t\t\t\treturn new Promise((resolve) => resolve())\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Book',\r\n\t\t\tdataIndex: 'title',\r\n\t\t\tkey: 'title',\r\n\t\t\trender: (text, record) => (\r\n\t\t\t\t<MainTitle\r\n\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\tconst info = content.filter((item) => item.key === record.key)\r\n\t\t\t\t\t\tsetBookInfo(info[0])\r\n\t\t\t\t\t\tsetInfoVisible(true)\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{text}\r\n\t\t\t\t</MainTitle>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Author',\r\n\t\t\tdataIndex: 'author',\r\n\t\t\tkey: 'author',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Category',\r\n\t\t\tkey: 'category',\r\n\t\t\tdataIndex: 'category',\r\n\t\t\trender: (category) => {\r\n\t\t\t\tconst tag = category\r\n\t\t\t\tlet color = tag.length >= 10 ? 'blue' : 'green'\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Tag color={color} key={tag}>\r\n\t\t\t\t\t\t{tag.toUpperCase()}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\ttitle: 'Price',\r\n\t\t\tdataIndex: 'price',\r\n\t\t\tkey: 'price',\r\n\t\t\trender: (price) => {\r\n\t\t\t\treturn <Price>${Number(price).toFixed(2)}</Price>\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Action',\r\n\t\t\tkey: 'action',\r\n\t\t\trender: (text, record) => (\r\n\t\t\t\t<Space size='middle'>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype='danger'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tshowConfirm(record)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tDelete\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t),\r\n\t\t},\r\n\t]\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Header>BookStore</Header>\r\n\t\t\t<ModalModule></ModalModule>\r\n\t\t\t<FormModule _visible={infoVisible} _initInfo={bookInfo} _setVisible={setInfoVisible}></FormModule>\r\n\t\t\t<Table columns={columns} pagination={false} dataSource={content} />\r\n\t\t</Container>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tbookList: state.home.BookList,\r\n\t\tbookDetail: state.home.bookInfo,\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tdeleteBook(index) {\r\n\t\t\tdispatch(deleteBookAction(index))\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BookList)\r\n","import BookList from './components/Home'\nimport React, { Suspense } from 'react'\nimport { Spin } from 'antd'\n\nfunction App() {\n\treturn (\n\t\t<div className='App'>\n\t\t\t<Suspense fallback={<Spin />}>\n\t\t\t\t<BookList></BookList>\n\t\t\t</Suspense>\n\t\t</div>\n\t)\n}\n\nexport default App\n","import { combineReducers } from 'redux'\r\n\r\nimport { reducer as home } from './store'\r\nconst rootReducer = combineReducers({ home })\r\n\r\nexport default rootReducer\r\n","import { createStore, compose, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport reducer from './reducer'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(reducer, composeEnhancers(applyMiddleware(thunk)))\r\n\r\nexport default store\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport 'antd/dist/antd.min.css'\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}