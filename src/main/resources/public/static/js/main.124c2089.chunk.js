(this.webpackJsonptask4react=this.webpackJsonptask4react||[]).push([[0],{240:function(e,t,n){"use strict";n.r(t);var o,a,r,i,c,s,l,d,u,b=n(0),p=n(24),h=n.n(p),f=n(119),j=n.n(f),O=n(136),m=n(43),y=n(76),g=n(247),k=n(152),x=n(250),v=n(251),w=n(31),I=n(244),B=n(44),_=n(45),S=_.a.h1(o||(o=Object(B.a)(["\n\tmargin-top: 20px;\n\ttext-align: center;\n"]))),C=_.a.div(a||(a=Object(B.a)(["\n\twidth: 100%;\n"]))),L=(_.a.span(r||(r=Object(B.a)(["\n\tcolor: #58dcd6;\n\tfont-size: 16px;\n\tdisplay: inline-block;\n\twidth: 100px;\n"]))),_.a.span(i||(i=Object(B.a)(["\n\tfont-size: 16px;\n"]))),_.a.span(c||(c=Object(B.a)(["\n\tfont-style: italic;\n\tcolor: #36b4e4;\n"])))),A=(_.a.span(s||(s=Object(B.a)(["\n\tfont-style: italic;\n\tcolor: #36b4e4;\n\tfont-size: 16px;\n"]))),_.a.span(l||(l=Object(B.a)(["\n\tfont-size: 16px;\n\tcolor: #36b4e4;\n\tdisplay: inline-block;\n"]))),_.a.div(d||(d=Object(B.a)(["\n\tmargin-top: -21px;\n\twhite-space: pre-wrap;\n\tmargin-left: 100px;\n\tfont-size: 15px;\n\tdisplay: inline-block;\n\tpadding: 5px;\n\tbackground-color: rgb(247 247 247);\n\tborder-radius: 10px;\n"]))),_.a.a(u||(u=Object(B.a)(["\n\tfont-size: 15px;\n"])))),E=n(66),D=n(245),P=n(246),T=n(248),z=n(153),F=n(249),K={BookList:[{key:"9b1deb4d-3b7d-1baf-9bdd-2b0d7b3dcb6d",title:"A Promised Land",price:30,author:"Barack Obama",category:"Sociology",description:"        A riveting, deeply personal account of history in the making - from the president who inspired us to believe in the power of democracy.\n\n      In the stirring, highly anticipated first volume of his presidential memoirs, Barack Obama tells the story of his improbable odyssey from young man searching for his identity to leader of the free world, describing in strikingly personal detail both his political education and the landmark moments of the first term of his historic presidency - a time of dramatic transformation and turmoil.\n\n      Obama takes listeners on a compelling journey from his earliest political aspirations to the pivotal Iowa caucus victory that demonstrated the power of grassroots activism to the watershed night of November 4, 2008, when he was elected 44th president of the United States, becoming the first African American to hold the nation\u2019s highest office."},{key:"9b1deb4d-3b7d-432d-9bdd-2b0d7b3dcb6d",title:"Little Book of Mindfulness",price:9,author:"Patricia Collard",category:"Psychology",description:"        Mindfulness is the easy way to gently let go of stress and be in the moment. It has fast become the slow way to manage the modern world - without chanting mantras or finding hours of special time to meditate.\n \n      Bring these simple 5- and 10-minute practices into your day to find freedom from stress and ultimately, more peace in your life."},{key:"9b1deb4d-3b7d-w2ad-9bdd-2b0d7b3dcb6d",title:"Stuff You Should Know",price:25,author:"Chuck Bryant",category:"Education",description:""},{key:"9b1deb4d-3b7d-4bad-9bdd-2b0d7b3ddd6d",title:"Harry Potter",price:63,author:"J.K. Rowling",category:"Literature",description:""},{key:"8aceb4d-3b7d-4bad-9bdd-2b0d7b3ddd6d",title:"Change Sings",price:10.99,author:"Amanda Gorman",category:"Literature",description:'    "I can hear change hummingIn its loudest, proudest song.I don\'t fear change coming,And so I sing along."'}]},N=n(140),U=new function e(){Object(N.a)(this,e),this.set=function(e,t){e&&("string"!==typeof t&&(t=JSON.stringify(t)),localStorage.setItem(e,t))},this.get=function(e){if(e)return localStorage.getItem(e)},this.del=function(e){e&&localStorage.removeItem(e)}},V="ADD_BOOK",q="DELETE_BOOK",J="UPDATE_BOOK",M=function(e){var t=new Object;t.BookList=e,U.set("book_storage",t)},R=function(e){return function(t,n){var o=n().home.BookList,a=e.title,r=e.category,i=e.description,c=e.price,s=e.author,l={key:Object(F.a)(),title:a,price:c,author:s,category:r,description:i},d=[].concat(Object(z.a)(o),[l]);return M(d),t({type:V,data:d})}},$=function(e){return function(t,n){var o=n().home.BookList,a=[];return o.map((function(t,n){if(t.key!==e.key)return a.push(t);a.push(e)})),M(a),t({type:J,data:a})}},H=n(17),X=function(){var e=Object(b.useState)(!1),t=Object(m.a)(e,2),n=t[0],o=t[1];return Object(H.jsxs)("div",{style:{float:"right",marginRight:"9%"},children:[Object(H.jsx)(w.a,{type:"primary",onClick:function(){o(!0)},children:"Add Book"}),Object(H.jsx)(G,{_visible:n,_initInfo:{title:"",description:"",price:0,category:"",author:""},_setVisible:o})]})},G=Object(y.b)(null,(function(e){return{processUpload:function(t){var n;e((n=t).key?$(n):R(n))},updateBook:function(t){e($(t))}}}))((function(e){var t=e.processUpload,n=e._initInfo,o=e._visible,a=e._setVisible,r=(e.updateBook,D.a.useForm()),i=Object(m.a)(r,1)[0],c=Object(b.useState)({}),s=Object(m.a)(c,2),l=s[0],d=s[1],u=Object(b.useRef)(null),p=function(e){for(var n=0,o=Object.entries(e);n<o.length;n++){var r=Object(m.a)(o[n],2),c=(r[0],r[1]);"string"===typeof c&&(c="".concat(c.trim()))}l.key&&(e.key=l.key),t(e),l.key?k.b.success("Modified Successfully"):k.b.success("Added Successfully"),i.resetFields(),a(!1)};Object(b.useEffect)((function(){u.current&&(d(n),i.setFieldsValue(n))}),[u,n,o]);var h=Object(b.useState)("default"),f=Object(m.a)(h,2),j=f[0],O=f[1],y={labelCol:{span:4},wrapperCol:{span:8}};return Object(H.jsx)(g.a,{visible:o,title:"Book Information",onOk:p,onCancel:function(){i.resetFields(),a(!1)},footer:null,children:Object(H.jsx)(b.Fragment,{children:Object(H.jsxs)(D.a,{onFinishFailed:function(){k.b.error("Input error")},ref:u,form:i,labelCol:{span:4},wrapperCol:{span:20},onFinish:p,layout:"horizontal",onValuesChange:function(e){var t=e.size;O(t)},size:j,children:[Object(H.jsx)(D.a.Item,Object(E.a)(Object(E.a)({},y),{},{name:"title",label:"Book",rules:[{required:!0,message:"Please input the book name"}],children:Object(H.jsx)(P.a,{placeholder:"Input the book name"})})),Object(H.jsx)(D.a.Item,Object(E.a)(Object(E.a)({},y),{},{name:"author",label:"Author",rules:[{required:!0,message:"Please input the author"}],children:Object(H.jsx)(P.a,{placeholder:"Input the author"})})),Object(H.jsx)(D.a.Item,Object(E.a)(Object(E.a)({},y),{},{name:"category",label:"Category",rules:[{required:!0,message:"Please input the category"}],children:Object(H.jsx)(P.a,{placeholder:"Input the category"})})),Object(H.jsx)(D.a.Item,{name:"price",label:"Price",rules:[{required:!0,type:"number",min:0,max:1e4}],children:Object(H.jsx)(T.a,{precision:2,formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")},style:{width:"100px"}})}),Object(H.jsx)(D.a.Item,{name:"description",label:"Description",rules:[{required:!1,message:"Please enter book's description "}],children:Object(H.jsx)(P.a.TextArea,{placeholder:"Input description",autoSize:!0,showCount:!0,rows:3,maxLength:2e3})}),Object(H.jsx)(D.a.Item,{wrapperCol:{span:12,offset:6},children:Object(H.jsx)(w.a,{style:{marginLeft:"30px"},type:"primary",htmlType:"submit",children:"Submit"})})]})})})})),Y=n(87);var Q=Object(y.b)((function(e){return{bookList:e.home.BookList,bookDetail:e.home.bookInfo}}),(function(e){return{deleteBook:function(t){var n;e((n=t,function(e,t){var o=t().home.BookList.filter((function(e){return e.key!==n}));M(o),e({type:q,data:o})}))}}}))((function(e){var t=Object(b.useState)([]),n=Object(m.a)(t,2),o=n[0],a=n[1],r=Object(b.useState)({}),i=Object(m.a)(r,2),c=i[0],s=i[1],l=Object(b.useState)(!1),d=Object(m.a)(l,2),u=d[0],p=d[1],h=e.bookDetail,f=e.bookList,y=e.deleteBook;Object(b.useEffect)((function(){f&&a(f)}),[f,h]);var B=[{title:"Book",dataIndex:"title",key:"title",render:function(e,t){return Object(H.jsx)(A,{onClick:Object(O.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o.filter((function(e){return e.key===t.key})),s(n[0]),p(!0);case 3:case"end":return e.stop()}}),e)}))),children:e})}},{title:"Author",dataIndex:"author",key:"author"},{title:"Category",key:"category",dataIndex:"category",render:function(e){var t=e,n=t.length>=10?"blue":"green";return Object(H.jsx)(x.a,{color:n,children:t.toUpperCase()},t)}},{title:"Price",dataIndex:"price",key:"price",render:function(e){return Object(H.jsxs)(L,{children:["$",Number(e).toFixed(2)]})}},{title:"Action",key:"action",render:function(e,t){return Object(H.jsx)(v.b,{size:"middle",children:Object(H.jsx)(w.a,{type:"danger",onClick:function(){!function(e){g.a.confirm({title:"Confirm",icon:Object(H.jsx)(Y.a,{}),content:"Are you sure to delete this book ?",okText:"Delete",cancelText:"Cancel",onOk:function(){k.b.success("Deleted successfully"),y(e.key)},onCancel:function(){return new Promise((function(e){return e()}))}})}(t)},children:"Delete"})})}}];return Object(H.jsxs)(C,{children:[Object(H.jsx)(S,{children:"BookStore"}),Object(H.jsx)(X,{}),Object(H.jsx)(G,{_visible:u,_initInfo:c,_setVisible:p}),Object(H.jsx)(I.a,{columns:B,pagination:!1,dataSource:o})]})})),W=n(146);var Z=function(){return Object(H.jsx)("div",{className:"App",children:Object(H.jsx)(b.Suspense,{fallback:Object(H.jsx)(W.a,{}),children:Object(H.jsx)(Q,{})})})},ee=n(59),te=n(148),ne=Object(ee.c)({home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BOOK":var n=new Object;return n.BookList=t.data,n;case"UPDATE_BOOK":var o=new Object;return o.BookList=t.data,o;case"DELETE_BOOK":var a=new Object;return a.BookList=t.data,a;case"INIT_BOOK_LIST":var r=new Object;return r.BookList=t.data,r;case"CHECK_INFO":var i=new Object;return i.bookInfo=t.data,i;default:return U.get("book_storage")?JSON.parse(U.get("book_storage")):e}}}),oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ee.d,ae=Object(ee.e)(ne,oe(Object(ee.a)(te.a)));n(239);h.a.render(Object(H.jsx)(y.a,{store:ae,children:Object(H.jsx)(Z,{})}),document.getElementById("root"))}},[[240,1,2]]]);
//# sourceMappingURL=main.124c2089.chunk.js.map